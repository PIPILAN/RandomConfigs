buildscript {
	repositories {
		jcenter()

		gradlePluginPortal()

		maven {
			url "http://maven.fabricmc.net/"
		}
	}

	dependencies {
		classpath "net.fabricmc:fabric-loom:0.2.5-SNAPSHOT"
		classpath "com.github.jengelman.gradle.plugins:shadow:5.1.0"
	}
}

apply plugin: "fabric-loom"
apply plugin: "com.github.johnrengelman.shadow"

archivesBaseName = "randomconfigs"
version = "1.14.4-1.4.1.0-fabric"

sourceCompatibility = targetCompatibility = "1.8"

repositories {
	mavenCentral()
}

dependencies {
	minecraft "com.mojang:minecraft:1.14.4"
	mappings "net.fabricmc:yarn:1.14.4+build.13"
	modCompile "net.fabricmc:fabric-loader:0.6.3+build.167"
	modCompile "net.fabricmc.fabric-api:fabric-api:0.4.0+build.240-1.14"

	shadow "blue.endless:jankson:1.1.0"
	compile "blue.endless:jankson:1.1.0"
}

shadowJar {
	classifier = ""
	relocate "blue.endless.jankson", "com.therandomlabs.randomconfigs.repackage.blue.endless.jankson"
	configurations = [project.configurations.shadow]
}

build.dependsOn shadowJar

artifacts {
	archives shadowJar
}

task sourcesJar(type: Jar, dependsOn: classes) {
	classifier = "sources"
	from sourceSets.main.allSource
}
